var _pk = new Uint8Array(new ArrayBuffer(32));
var _sk = new Uint8Array(new ArrayBuffer(64));
var _sig = new Uint8Array(new ArrayBuffer(64));

_pk[0] = 175;
_pk[1] = 205;
_pk[2] = 83;
_pk[3] = 68;
_pk[4] = 59;
_pk[5] = 121;
_pk[6] = 13;
_pk[7] = 42;
_pk[8] = 239;
_pk[9] = 69;
_pk[10] = 157;
_pk[11] = 200;
_pk[12] = 190;
_pk[13] = 188;
_pk[14] = 61;
_pk[15] = 166;
_pk[16] = 34;
_pk[17] = 79;
_pk[18] = 251;
_pk[19] = 146;
_pk[20] = 170;
_pk[21] = 128;
_pk[22] = 25;
_pk[23] = 76;
_pk[24] = 95;
_pk[25] = 14;
_pk[26] = 99;
_pk[27] = 40;
_pk[28] = 227;
_pk[29] = 228;
_pk[30] = 73;
_pk[31] = 39;
_sk[0] = 103;
_sk[1] = 198;
_sk[2] = 105;
_sk[3] = 115;
_sk[4] = 81;
_sk[5] = 255;
_sk[6] = 74;
_sk[7] = 236;
_sk[8] = 41;
_sk[9] = 205;
_sk[10] = 186;
_sk[11] = 171;
_sk[12] = 242;
_sk[13] = 251;
_sk[14] = 227;
_sk[15] = 70;
_sk[16] = 124;
_sk[17] = 194;
_sk[18] = 84;
_sk[19] = 248;
_sk[20] = 27;
_sk[21] = 232;
_sk[22] = 231;
_sk[23] = 141;
_sk[24] = 118;
_sk[25] = 90;
_sk[26] = 46;
_sk[27] = 99;
_sk[28] = 51;
_sk[29] = 159;
_sk[30] = 201;
_sk[31] = 154;
_sk[32] = 175;
_sk[33] = 205;
_sk[34] = 83;
_sk[35] = 68;
_sk[36] = 59;
_sk[37] = 121;
_sk[38] = 13;
_sk[39] = 42;
_sk[40] = 239;
_sk[41] = 69;
_sk[42] = 157;
_sk[43] = 200;
_sk[44] = 190;
_sk[45] = 188;
_sk[46] = 61;
_sk[47] = 166;
_sk[48] = 34;
_sk[49] = 79;
_sk[50] = 251;
_sk[51] = 146;
_sk[52] = 170;
_sk[53] = 128;
_sk[54] = 25;
_sk[55] = 76;
_sk[56] = 95;
_sk[57] = 14;
_sk[58] = 99;
_sk[59] = 40;
_sk[60] = 227;
_sk[61] = 228;
_sk[62] = 73;
_sk[63] = 39;
_sig[0]= 238;
_sig[1]= 145;
_sig[2]= 129;
_sig[3]= 11;
_sig[4]= 67;
_sig[5]= 34;
_sig[6]= 110;
_sig[7]= 132;
_sig[8]= 24;
_sig[9]= 165;
_sig[10]= 75;
_sig[11]= 186;
_sig[12]= 84;
_sig[13]= 188;
_sig[14]= 105;
_sig[15]= 89;
_sig[16]= 148;
_sig[17]= 7;
_sig[18]= 243;
_sig[19]= 13;
_sig[20]= 43;
_sig[21]= 128;
_sig[22]= 155;
_sig[23]= 40;
_sig[24]= 73;
_sig[25]= 2;
_sig[26]= 176;
_sig[27]= 132;
_sig[28]= 174;
_sig[29]= 56;
_sig[30]= 228;
_sig[31]= 28;
_sig[32]= 236;
_sig[33]= 10;
_sig[34]= 102;
_sig[35]= 113;
_sig[36]= 193;
_sig[37]= 97;
_sig[38]= 177;
_sig[39]= 27;
_sig[40]= 212;
_sig[41]= 55;
_sig[42]= 173;
_sig[43]= 196;
_sig[44]= 17;
_sig[45]= 27;
_sig[46]= 154;
_sig[47]= 32;
_sig[48]= 226;
_sig[49]= 218;
_sig[50]= 22;
_sig[51]= 67;
_sig[52]= 77;
_sig[53]= 11;
_sig[54]= 239;
_sig[55]= 50;
_sig[56]= 238;
_sig[57]= 11;
_sig[58]= 196;
_sig[59]= 51;
_sig[60]= 60;
_sig[61]= 253;
_sig[62]= 85;
_sig[63]= 5;

a = require("tweetnacl");

var i;
var msg = new Uint8Array(new ArrayBuffer(16));
var sig = new Uint8Array(new ArrayBuffer(64));

for (i = 0; i < 16; ++i) msg[i] = i;

for (i = 0; i < 1000; ++i) {
    var sig = a.sign.detached(msg, _sk);
    if (i == 0) console.log("sig=", sig);

    if (!a.sign.detached.verify(msg, sig, _pk)) {
        console.log("vfy=fail");
    }
}
